<?xml version="1.0" encoding="utf-8"?>
<Patch>
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Outposts Expanded</li>
        </mods>
        <match Class="PatchOperationReplace">
			<xpath>/Defs/WorldObjectDef[defName="Outpost_Town"]/expandingIconTexture</xpath>
			<value>
                <expandingIconTexture>World/WorldObjects/Expanding/EmpireOverhaul</expandingIconTexture>
			</value>
		</match>
    </Operation>

<!-- change research prereq for simple throne -->
    <Operation Class="PatchOperationFindMod">
        <mods>
            <li>Vanilla Factions Expanded - Empire</li>
        </mods>
        <match Class="PatchOperationSequence">
            <operations>
                <li Class="PatchOperationReplace">
                    <xpath>/Defs/ThingDef[defName="EEG_SimpleThrone"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>ComplexFurniture</li>
                        </researchPrerequisites>
                    </value>		
                </li>

<!-- meditation throne should satisfy low tier throne requirement -->
                <li Class="PatchOperationConditional">
                    <xpath>Defs/RoyalTitleDef[defName="Acolyte"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things/li[.="Throne"]</xpath>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>Defs/RoyalTitleDef[defName="Acolyte"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things</xpath>
                        <value>
                            <li>Throne</li>
                        </value>
                    </nomatch>
                </li>

                <li Class="PatchOperationConditional">
                    <xpath>Defs/RoyalTitleDef[defName="Knight"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things/li[.="Throne"]</xpath>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>Defs/RoyalTitleDef[defName="Knight"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things</xpath>
                        <value>
                            <li>Throne</li>
                        </value>
                    </nomatch>
                </li>

                <li Class="PatchOperationConditional">
                    <xpath>Defs/RoyalTitleDef[defName="Praetor"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things/li[.="Throne"]</xpath>
                    <nomatch Class="PatchOperationAdd">
                        <xpath>Defs/RoyalTitleDef[defName="Praetor"]/throneRoomRequirements/li[@Class="RoomRequirement_HasAssignedThroneAnyOf"]/things</xpath>
                        <value>
                            <li>Throne</li>
                        </value>
                    </nomatch>
                </li>

            </operations>   
        </match>
    </Operation>

</Patch>